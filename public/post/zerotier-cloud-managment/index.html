<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
    <title>How to manage remote servers using Zerotier · Hugo Themes</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    <link rel="stylesheet" href="http://localhost:1313/style.main.min.b98e12e6b4acb157747422458845caf0880e6eda788e2e2ee3ecc617a0e9bfc3.css" />

</head>
<body class=" post-template ">

    <div class="site-wrapper">

<header class="site-header"><div class="outer site-nav-main">
    <div class="inner"><nav class="site-nav">
    <div class="site-nav-left">
        
        <a class="site-nav-logo" href="http://localhost:1313/">Hugo Themes</a>
        

        <div class="site-nav-content">
            <ul class="nav" role="menu">
                
                <li class="nav-home" role="menuitem">
                    <a href="/">HOME</a>
                </li>
                
                <li class="nav-home" role="menuitem">
                    <a href="/my-setup">MY SETUP</a>
                </li>
                
                <li class="nav-home" role="menuitem">
                    <a href="/story">THE STORY</a>
                </li>
                
            </ul>

            
            <span class="nav-post-title dash">How to manage remote servers using Zerotier</span>
            
        </div>
    </div>

    <div class="site-nav-right">
        <div class="site-nav-content">
            <ul class="nav" role="menu">
                
                <li class="nav-home" role="menuitem">
                    <a href="https://www.linkedin.com/in/bradley-stannard/">Linkedin</a>
                </li>
                
                <li class="nav-home" role="menuitem">
                    <a href="https://documentation.breadnet.co.uk/?mtm_campaign=breadnet&amp;mtm_kwd=navbar">Documentation</a>
                </li>
                
                <li class="nav-home" role="menuitem">
                    <a href="mailto:webmaster@breadnet.co.uk">Contact</a>
                </li>
                
                <li class="nav-home" role="menuitem">
                    <a href="https://github.com/userbradley">GitHub</a>
                </li>
                
            </ul>
        </div>
    </div>
</nav>
</div>
</div><script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.Casper && window.Casper.stickyNavTitle) {
                window.Casper.stickyNavTitle({
                    navSelector: '.site-nav-main',
                    titleSelector: '.post-full-title',
                    activeClass: 'nav-post-title-active'
                });
            }
        });
    </script>
</header>

<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post  no-image ">

            <header class="post-full-header">

                

                <h1 class="post-full-title">How to manage remote servers using Zerotier</h1>

                

                <div class="post-full-byline">
                    <section class="post-full-byline-content">

                        

                        <section class="post-full-byline-meta">
                            
                            <div class="byline-meta-content">
                                <time class="byline-meta-date" datetime="0001-121-01">1 January 0001</time>
                                <span class="byline-reading-time"><span class="bull">&bull;</span> 4 min read</span>
                            </div>
                        </section>

                    </section>


                </div>
            </header>

            

            <section class="post-full-content">
                <div class="post-content">
                    <p>(it&rsquo;s hard to find photos for an article like this)</p>
<p>Currently, I use zerotier to manage cloud servers in Amsterdam, the UK as well as in the USA. Despite the huge distance there is surprisingly mininal latency. In this article, we will look in to how to use it to manage remote servers via ssh, what firewall rules you should setup to prevent people from trying to login.</p>
<p>prereqs: Zerotier and ssh knowledge
[</p>
<p>Getting started with Zerotier</p>
<p>Let’s look at how we can use zerotier to bridge the gaps between us and a remote server to connect using private IP’s and not mess about with firewalls</p>
<p><img src="https://breadnet.co.uk/favicon.png" alt="">breadNETBradley Stannard</p>
<p><img src="https://images.unsplash.com/photo-1512699126689-b59fb4e97c92?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" alt="">
](<strong>GHOST_URL</strong>/getting-started-with-zerotier/)[</p>
<p>A beginners guide to SSH</p>
<p>Sweet, you just got a linux server running on <!-- raw HTML omitted --> but nowyou need to actually do something on it. You tried to use the web console but now you need to paste something in&hellip; Itdoesn’t work? Shit. Luckilly SSH was designed to allow for Secure SHell accessto a server. (Hence S…</p>
<p><img src="https://breadnet.co.uk/favicon.png" alt="">breadNETBradley Stannard</p>
<p><img src="https://images.unsplash.com/photo-1586772002345-339f8042a777?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" alt="">
](<strong>GHOST_URL</strong>/a-beginners-guide-to-ssh/)
Once you&rsquo;ve got your head around connecting a machine to zerotier, as well as how to setup seure ssh, we can look more towards the firewall rules. How ever, instead of telling you to go read something I will explain some basics here just to make life easier.</p>
<p>Firstly start with getting zerotier setup if you haven&rsquo;t already:</p>
<p>You will need to create an account and install it on both machines.</p>
<p>Create an account at <a href="https://my.zerotier.com/">my.zerotier.com/</a></p>
<p>Once your account is creates, click <code>Networks</code> at the top and then <code>+ Create a Network</code></p>
<p>You will see one appear under the <code>Your Networks</code> section
<img src="__GHOST_URL__/content/images/2020/06/image-14.png" alt="">
Click the ID of the network and pick the network range you want. You NEED it to not be used anywhere else!</p>
<blockquote>
<p>A note to my homies who hage CGnat, make sure that you check their range before you pick one, as well as your own internal range</p></blockquote>
<p><img src="__GHOST_URL__/content/images/2020/06/image-15.png" alt="">
Once that is done, you will need to install Zerotier on the machines you want to connect to each other.</p>
<p>If you trust SSL on linux:</p>
<pre><code>curl -s https://install.zerotier.com | sudo bash
</code></pre>
<p>Else, Zerotier have good instructions <a href="https://www.zerotier.com/download/">here</a></p>
<p>Now we need to add the server&rsquo;s to the network!</p>
<pre><code>sudo zerotier-cli join &lt;network ID&gt;
</code></pre>
<p>If it returns with <code>200</code> it&rsquo;s happy days. Wait a few minutes and you should see the first server show up in the management page. Add a name to it so you know what&rsquo;s what.</p>
<p>Rinse and repeat for all the other devices.</p>
<p>Now that Zerotier is configured, you can optionally enable SSH Keybased authentication. For cloud servers and servers that will be managed by many people, you&rsquo;re going to want to set this up. I wont write how to do this, as I&rsquo;m hoping you took the time to read the SSH article at the top.</p>
<p>Seeing as this machine is hopefully a new one, and you&rsquo;re just about to get started managing it, you&rsquo;re going to want to enable ufw.</p>
<pre><code>sudo ufw enable
</code></pre>
<p>Now that it&rsquo;s enabled, we will need to add in our IP address range of either zerotier, or just one machines zerotier IP address to the ufw rule for allowing ssh</p>
<pre><code>sudo ufw allow from &lt;zerotier&gt;/&lt;subnet&gt; to any port 22
</code></pre>
<p>or if you want, just an IP address</p>
<pre><code>sudo ufw allow from &lt;ip&gt; to any port 22
</code></pre>
<p>The rule I go with which allows me broad access is to allow all ports from the zerotier ip range. This allows me to manage databases&rsquo;, websites and ssh.</p>
<pre><code>sudo ufw allow from &lt;zerotier&gt;/&lt;range&gt;
</code></pre>
<p>The open the ports for services you may be running. HTTP(S) are below for example</p>
<pre><code>sudo ufw allow http
sudo ufw allow https
</code></pre>
<p>By defaul UFW is set to deny all incoming connections till you explicitly allow ports to be open</p>
<p>Now we can apply the rules</p>
<pre><code>sudo ufw enable
sudo ufw reload
</code></pre>
<p>If you want to see the rules, just type</p>
<pre><code>sudo ufw status numbered
</code></pre>
<p>and then to delete a rule it&rsquo;s just pick the number from the previous command and</p>
<pre><code>sudo ufw delete &lt;numner&gt;
</code></pre>
<hr>
<p>You can hire me via <a href="https://www.upwork.com/freelancers/~01c61ee9802b94133e">Upwork</a> or <a href="mailto:work@breadnet.co.uk">emailing me</a> for weekend projects!</p>

                </div>
            </section>

        </article>

    </div>
</main>
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed"><article class="post-card post
 no-image
 ">

        
    
        <div class="post-card-content">
    
            <a class="post-card-content-link" href="http://localhost:1313/post/html-5-speed-test-server/">
    
                <header class="post-card-header">
                    

                    <h2 class="post-card-title">HTML 5 Speed test server</h2>
                </header>
    
                <section class="post-card-excerpt">
                    <p><p>Originally this was posted on my <a href="https://www.old.breadnet.co.uk">old</a> website but seeing as several people still come to my site for this, I will add it here</p>
<p>Firstly you will need to SSH to the server you are running. If you are unsure how to do this, there are lots of good videos on youtube. If you&rsquo;re still struggling, hit the Contact button at the top and get in touch!</p>
<p>Install apache2 and php</p></p>
                </section>
    
            </a>

            <footer class="post-card-meta">
                    <ul class="author-list">
                        <li class="author-list-item">
                            <div class="author-name-tooltip"></div>
                            <a href="#" class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg></a>
                        </li>
                    </ul>
                    <div class="post-card-byline-content">
                        <span></span>
                        <span class="post-card-byline-date"><time datetime="0001-121-01">1 January 0001</time>
                            <span class="bull">&bull;</span> 2 min read</span>
                    </div>
                </footer>
    
        </div>

</article>
    

            <article class="post-card post
 no-image
 ">

        
    
        <div class="post-card-content">
    
            <a class="post-card-content-link" href="http://localhost:1313/post/how-to-install-kanboard/">
    
                <header class="post-card-header">
                    

                    <h2 class="post-card-title">How to install kanboard</h2>
                </header>
    
                <section class="post-card-excerpt">
                    <p><p>I have been using Kanboard for around 4 months to manage my internal tasks as well as organise my self. Think of it like a ticket at a restaurant that gets moved to different cooks so they know what needs to be done.</p>
<p>I will be using Ubuntu 18.04 for this, but it&rsquo;s the same for most version of Ubuntu.</p>
<p>Start with installing all the services we need. If you already have these installed on your server, you can skip this step</p></p>
                </section>
    
            </a>

            <footer class="post-card-meta">
                    <ul class="author-list">
                        <li class="author-list-item">
                            <div class="author-name-tooltip"></div>
                            <a href="#" class="static-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg></a>
                        </li>
                    </ul>
                    <div class="post-card-byline-content">
                        <span></span>
                        <span class="post-card-byline-date"><time datetime="0001-121-01">1 January 0001</time>
                            <span class="bull">&bull;</span> 4 min read</span>
                    </div>
                </footer>
    
        </div>

</article>
    
        </div>
    </div>
</aside>


        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:1313/">Hugo Themes</a> &copy; 0001</section>
                <nav class="site-footer-nav">
                    <a href="http://localhost:1313/">Latest Posts</a>
                    <a href="https://facebook.com" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://github.com/jonathanjanssens" target="_blank" rel="noopener">Github</a>
                    <a href="https://jonathanjanssens.com" target="_blank" rel="noopener" style="opacity: 0.5;">Hugo Casper3 by Jonathan Janssens</a>
                </nav>
            </div>
        </footer>

    </div>

<script src="http://localhost:1313/js/sticky-nav-title.min.7c74baa114d72c67b1f5c85f55da35fa76c686efef35103f409f57f6bf3f9057.js" integrity="sha256-fHS6oRTXLGex9chfVdo1&#43;nbGhu/vNRA/QJ9X9r8/kFc="></script>
<script>

    
    
    
    
    $(document).ready(function () {

        var nav = document.querySelector('.site-nav-main .site-nav');
        var feed = document.querySelector('.post-feed');

        var lastScrollY = window.scrollY;
        var lastWindowHeight = window.innerHeight;
        var lastDocumentHeight = $(document).height();
        var ticking = false;

        function onScroll() {
            lastScrollY = window.scrollY;
            requestTick();
        }

        function onResize() {
            lastWindowHeight = window.innerHeight;
            lastDocumentHeight = $(document).height();
            requestTick();
        }

        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(update);
            }
            ticking = true;
        }

        function update() {
            var trigger = feed.getBoundingClientRect().top + window.scrollY;
            var progressMax = lastDocumentHeight - lastWindowHeight;

            
            if (lastScrollY >= trigger - 20) {
                nav.classList.add('fixed-nav-active');
            } else {
                nav.classList.remove('fixed-nav-active');
            }

            ticking = false;
        }

        window.addEventListener('scroll', onScroll, { passive: true });
        window.addEventListener('resize', onResize, false);

        update();

    });
</script>
</body>
</html>